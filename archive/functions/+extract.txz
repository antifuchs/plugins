(( $+commands[tar] )) || {
  print "Please install tar first." >&2
  return 1
}

if tar --xz --help &>/dev/null;
  tar --xz -xvf "$1"
elif (( $+commands[xz] )); then
  xz -d -c "$1" | tar xvf -
elif (( $+commands[unxz] )); then
  unxz -c "$1" | tar xvf -
elif (( $+commands[xzcat] )); then
  xzcat "$1" | tar xvf -
else
  print "Install a xz-compatibile version of tar or xz." >&2
  return 1
fi

# vim: ft=zsh sts=2 ts=2 sw=2 et fdm=marker fmr={{{,}}}
